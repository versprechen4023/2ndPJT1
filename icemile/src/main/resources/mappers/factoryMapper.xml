<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mes.icemile.mappers.factoryMapper">


	<select id="getFacilityList" resultType="ems.icemile.dto.FacilityDTO">
		SELECT *
		FROM facility
	</select>
	
	<select id="getNewFacilityCode" resultType="int">
		SELECT count(*) + 1
		FROM facility
	</select>
	
	
	<insert id="insertFacility">
		INSERT INTO facility(line_code, line_name, line_phone, line_process, line_status, emp_num, line_note)
		VALUES(CONCAT('LI', LPAD(#{line_code}, 4, '0')), #{line_name}, #{line_phone}, #{line_process}, #{line_status}, #{emp_num}, #{line_note})
	</insert>


  
</mapper>