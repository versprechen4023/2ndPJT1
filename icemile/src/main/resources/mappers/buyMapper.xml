<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ems.icemile.mappers.buyMapper">

  
  <select id="getBuyList" resultType="ems.icemile.dto.BuyDTO">
  	SELECT *
  	FROM buy
  </select>

  <select id="getBuyCode" resultType="int">
  	SELECT count(*) + 1
  	FROM buy
  </select>
  
    <insert id="buyInsert">
  	INSERT INTO buy(buy_code, buy_name, buy_reg, buy_ceo, buy_emp, emp_num, 
  					buy_type, buy_phone, buy_post, buy_add, buy_email)
  	VALUES(CONCAT('BU', LPAD(#{buy_code}, 4, '0')),#{buy_name}, #{buy_reg}, 
  			#{buy_ceo}, #{buy_emp}, #{emp_num}, #{buy_type},#{buy_phone},#{buy_post},
  			#{buy_add},#{buy_email})
  </insert>


</mapper>